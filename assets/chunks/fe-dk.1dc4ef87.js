function $(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function _(t){return $(t)==="date"}const n=class{constructor(t){t instanceof n?this.date=t.date:_(t)?this.date=t:this.date=new Date(t)}_get(t,r){return this[t]||(this[t]=r,r)}get timestamp(){return this._get("_timestamp",this.date.getTime())}get year(){return this._get("_year",this.date.getFullYear())}get month(){return this._get("_month",this.date.getMonth()+1)}get day(){return this._get("_day",this.date.getDate())}get hour(){return this._get("_hour",this.date.getHours())}get minute(){return this._get("_minute",this.date.getMinutes())}get second(){return this._get("_second",this.date.getSeconds())}static setMatcher(t,r){n.matchers[t]=r}static use(t){t(n)}static getMatchers(){return n.matchers}format(t="yyyy-MM-dd"){return Object.keys(n.matchers).forEach(r=>{t=t.replace(new RegExp(`(${r})`),e=>n.matchers[r](this.date,e.length))}),t}calc(t,r){const{date:e}=this;return r==="days"?new n(this.timestamp+t*864e5):r==="weeks"?new n(this.timestamp+t*6048e5):r==="months"?(e.setMonth(t+e.getMonth()),new n(e.getTime())):(e.setFullYear(t+e.getFullYear()),new n(e.getTime()))}compare(t){return Math.ceil(Math.abs(this.timestamp-new n(t).timestamp)/864e5)}};let g=n;g.matchers={yyyy:t=>t.getFullYear()+"","M+":(t,r)=>{let e=`${t.getMonth()+1}`;return r===1?e:`0${e}`.slice(-2)},"d+":(t,r)=>{let e=t.getDate()+"";return r===1?e:`0${e}`.slice(-2)},"h+":(t,r)=>{let e=t.getHours(),u=(e>12?e-12:e)+"";return r===1?u:`0${u}`.slice(-2)},"H+":(t,r)=>{let e=`${t.getHours()}`;return r===1?e:`0${e}`.slice(-2)},"m+":(t,r)=>{let e=`${t.getMinutes()}`;return r===1?e:`0${e}`.slice(-2)},"s+":(t,r)=>{let e=`${t.getSeconds()}`;return r===1?e:`0${e}`.slice(-2)}};const d=function(t){return new g(t!=null?t:new Date)};d.use=g.use,d.getMatchers=g.getMatchers,d.setMatcher=g.setMatcher;class y{money(r,e){if(!r)return"0";let[u,a=""]=String(r).split(".");const m=u.length-1;let s=[];u.split("").reverse().forEach((l,i)=>{s.push(l),i&&(i+1)%3===0&&i!==m&&s.push(",")});let h=s.reverse().join("");return e?(a=a==null?void 0:a.substring(0,e),h=`${h}.${a.padEnd(e,"0")}`):a&&(h=`${h}.${a}`),h}cn_money(r){const e=["\u96F6","\u58F9","\u8D30","\u53C1","\u8086","\u4F0D","\u9646","\u67D2","\u634C","\u7396"],u=["","\u62FE","\u4F70","\u4EDF"],a=["","\u4E07","\u4EBF","\u5146"],m=["\u89D2","\u5206","\u6BEB","\u5398"];let s="";if(!r)return"\u96F6\u5143\u6574";if(r>=1e15)return"";const[h,l]=String(+r.toFixed(4)).split(".");if(parseInt(h,10)>0){let i=0;const c=h.length;for(let o=0;o<c;o++){let p=h.substring(o,o+1),f=c-o-1,M=f/4,F=f%4;p==="0"?i++:(i>0&&(s+=e[0]),i=0,s+=e[parseInt(p)]+u[F]),F===0&&i<4&&(s+=a[M])}s=`${s}\u5143`}if(l){const i=l.length;for(let c=0;c<i;c++){let o=l.substring(c,c+1);o!=="0"&&(s+=e[Number(o)]+m[c])}}else s=`${s}\u6574`;return s}constructor(r){this.v=r}format(r,e){return this[r](this.v,e)}fixed(r){const{v:e}=this;return+e.toFixed(r)}each(r){const{v:e}=this;for(let u=1;u<=e;u++)r(u)}}y.numberFmt=new Intl.NumberFormat("zh-Hans-CN",{maximumFractionDigits:2});const w=function(t){return new y(t)};export{d as E,w as T};
